<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mapper.test2.RobotMapper2" >
    <resultMap id="BaseResultMap" type="com.entity.Robot" >
        <id column="robotId" property="robotId" jdbcType="VARCHAR" />
        <result column="robotName" property="robotName" jdbcType="VARCHAR" />
        <result column="area" property="area" jdbcType="VARCHAR" />
        <collection property="userGroups"  ofType="java.util.Map">
			<id column="robotId" property="robotId" jdbcType="VARCHAR" />
			<id column="alarmType" property="alarmType" jdbcType="VARCHAR" />
			<result column="bounced" property="bounced" jdbcType="INTEGER" />
			<result column="voice" property="voice" jdbcType="INTEGER" />
			<result column="fileid" property="fileid" jdbcType="INTEGER" />
			<result column="alarmSaveDays" property="alarmSaveDays" jdbcType="INTEGER" />
		</collection>
    </resultMap>

    <select id="getRobotList" resultMap="BaseResultMap"  >
        SELECT
	        robot.robotId,
	        robotName,
	        area,
	        alarmType,
	        bounced,
	        voice,
	        fileid,
	        alarmSaveDays
        FROM robot,alarmparam
        where robot.robotId = alarmparam.robotId
    </select>
    
      <select id="getRobotById" resultMap="BaseResultMap"  parameterType="java.lang.String" >
        SELECT
	        robot.robotId,
	        robotName,
	        area,
	        alarmType,
	        bounced,
	        voice,
	        fileid,
	        alarmSaveDays
        FROM robot,alarmparam
        where robot.robotId = alarmparam.robotId
        and robot.robotId=#{robotId}
    </select>
</mapper>